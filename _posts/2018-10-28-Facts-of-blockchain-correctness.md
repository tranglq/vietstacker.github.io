Há»¡i cÃ¡c anh chá»‹ em thiá»‡n lÃ nh, dáº¡o qua má»™t vÃ²ng vá» tÃ¬nh hÃ¬nh phÃ¡t triá»ƒn smart contract vá»›i cÃ¡c ná»n táº£ng blockchain trÃªn tháº¿ giá»›i cÅ©ng nhÆ° á»Ÿ VN, tá»› tháº¥y nÃ³ tháº­t ná»Ÿ rá»™, nhÆ° Ä‘Æ¡m hoa káº¿t trÃ¡i váº­y :D. Tá»› ko cá»• xÃºy cho viá»‡c dÃ¹ng hay khÃ´ng dÃ¹ng smart contract vÃ  cÃ¡c hÆ°á»›ng Ä‘i trong viá»‡c phÃ¡t triá»ƒn chÃºng hiá»‡n nay, tá»› chá»‰ cÃ³ má»™t vÃ i bÄƒn khoÄƒn 3 xu tháº¿ nÃ y muá»‘n bá»™c báº¡ch cÃ¹ng anh chá»‹ em thiá»‡n lÃ nh quan tÃ¢m Ä‘áº¿n cÃ´ng nghá»‡ blockchain.
Háº³n má»™t vÃ i ace cÅ©ng Ä‘Ã£ tá»«ng mua má»™t vÃ i thá»© gÃ¬ Ä‘Ã³ trÃªn ebay. VÃ  vá»›i ebay, Ä‘Æ¡n giáº£n lÃ  ta tráº£ tiá»n trÆ°á»›c vÃ  sau Ä‘Ã³ ta "tháº¯p hÆ°Æ¡ng" cho hÃ ng vá» ngon lÃ nh, ko tráº§y xÆ°á»›c, khÃ´ng pháº£i hÃ ng giáº£. NhÆ°ng, Ä‘Ã³ lÃ  cÃ¢u chuyá»‡n cá»§a trÆ°á»›c Ä‘Ã¢y, trÆ°á»›c khi PayPal ra Ä‘á»i. Vá»›i PayPal, ta cÃ³ thá»ƒ cÃ³ má»™t chá»— dá»±a tin cáº­y vá» viá»‡c ráº±ng hÃ ng sáº½ vá» Ä‘Ãºng thá»i gian, ko há»ng hÃ³c, ko cáº§n pháº£i "tháº¯p hÆ°Æ¡ng". VÃ  PayPal hoáº¡t Ä‘á»™ng nhÆ° lÃ  má»™t ESCROW.
Quay láº¡i vá»›i smart contract trong blockchain, ráº¥t dá»… dÃ ng Ä‘áº·t ra cÃ¢u há»i tháº¿ nÃ y? Khi báº¡n dÃ¹ng smart contract trong blockchain Ä‘á»ƒ mua hÃ ng, váº­y ai sáº½ lÃ  escrow, ai sáº½ chá»©ng thá»±c cho hÃ ng báº¡n mua khÃ´ng pháº£i hÃ ng rá»Ÿm? TÃ´i vÃ­ dá»¥ sau nÃ y ta mua bÃ¡n cÃ¡c data thÃ´ng qua sá»­ dá»¥ng blockchain cháº³ng háº¡n, ai biáº¿t Ä‘Æ°á»£c ráº±ng data báº¡n mua ko pháº£i data rá»Ÿm? CÃ¡c ná»n táº£ng blockchain há»— trá»£ smart contract thÃ¬ báº£n thÃ¢n nÃ³ ko pháº£i lÃ  escrow, ngÆ°á»i phÃ¡t triá»ƒn ra nÃ³ cÅ©ng khÃ´ng pháº£i lÃ  escrow, cháº£ ai chá»‹u trÃ¡ch nhiá»‡m gÃ¬ khi data cá»§a báº¡n há»ng hay rá»Ÿm (ebay Ä‘Ã¢u chá»‹u trÃ¡ch nhiá»‡m :D). VÃ  náº¿u ta mua bÃ¡n giá»¯a nhá»¯ng ngÆ°á»i tin tÆ°á»Ÿng nhau thÃ¬ cáº§n gÃ¬ blockchain cho má»‡t, tá»› muá»‘n nháº¥n máº¡nh vá» scope cá»§a khÃ¡i niá»‡m blockchain lÃ  á»Ÿ trustless, ta ko nÃ³i Ä‘áº¿n trust á»Ÿ Ä‘Ã¢y.
Váº­y trong mÃ´i trÆ°á»ng trustless tháº¿ nÃ y, ta lÃ m sao kiá»ƒm chá»©ng Ä‘Æ°á»£c cÃ¡i ta mua lÃ  tá»‘t hay Ä‘á»ƒu? Nokia cÃ³ sáº£n pháº©m gá»i lÃ  Sensing as a service, tá»©c lÃ  nÃ³ cho phÃ©p báº¡n mua bÃ¡n IoT data trÃªn ná»n táº£ng blockchain. Báº¡n sáº½ tráº£ tiá»n Ä‘á»ƒ mua IoT data stream kiá»ƒu "pay as you go" nhÆ°ng ai biáº¿t cÃ¡i Ä‘á»‘ng data stream Ä‘Ã³ lÃ  tháº­t hay giáº£. TÃ´i vÃ­ dá»¥, báº¡n tráº£ tiá»n Ä‘á»ƒ mua IoT data stream tá»« vÆ°á»n trá»“ng cÃ  chua cuáº£ anh X á»Ÿ Ä‘Ã¢u Ä‘Ã³ ko biáº¿t, a áº¥y nÃ³i lÃ  a áº¥y cÃ³ dá»¯ liá»‡u vá» Ä‘á»™ sinh trÆ°á»Ÿng cÃ  chua cá»§a máº¥y hecta cá»§a anh áº¥y, thÃ¬ quáº£ tháº­t lÃ  cÃ³ zá»i biáº¿t cÃ¡i Ä‘á»‘ng dá»¯ liá»‡u Ä‘áº¥y lÃ  tháº­t hay giáº£, smart contract á»Ÿ Ä‘Ã¢y trá»Ÿ nÃªn VÃ” NGHÄ¨A.

CÃ¢u há»i Ä‘áº·t ra lÃ : Trong tháº¿ giá»›i trustless thÃ¬ lÃ m sao Ä‘á»ƒ chá»©ng minh Ä‘Æ°á»£c sá»± chÃ­nh xÃ¡c (correctness) cá»§a cÃ¡i mÃ  ta mua?

ÄÆ¡n giáº£n thÃ´i, ta pháº£i bÃ³c tÃ¡ch toÃ n bá»™ thÃ´ng tin dá»¯ liá»‡u cÃ¢n pháº£i Ä‘Æ°á»£c kiá»ƒm tra cÅ©ng nhÆ° pháº£i kiá»ƒm tra luÃ´n cáº£ smart contract xem nÃ³ hoáº¡t Ä‘á»™ng tá»‘t hay khÃ´ng. VÃ  náº¿u má»i thá»© OK, tá»©c lÃ  dá»¯ liá»‡u Ä‘Æ°á»£c Ä‘Æ°a vÃ o smart contract vÃ  output Ä‘áº§u ra hoáº¡t Ä‘á»™ng vÃ  Ä‘Æ°á»£c ghi trÃªn blockchain thÃ¬ cÃ³ nghÄ©a ráº±ng blockchain cá»§a chÃºng ta hoáº¡t Ä‘á»™ng tá»‘t.
NhÆ°ng ta láº¡i quay trá»Ÿ láº¡i váº¥n Ä‘á» ban Ä‘áº§u tá»©c lÃ , náº¿u dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trÃªn blockchain vÃ  ta cáº§n pháº£i biáº¿t má»™t Ä‘á»‘ng thá»© bÃªn trÃªn Ä‘á»ƒ verify hoáº¡t Ä‘á»™ng cá»§a blockchain thÃ¬ Ä‘iá»u nÃ y quáº£ thá»±c sáº½ gÃ¢y ra khÃ¡ nhiá»u rá»§i ro tiá»m tÃ ng vá» security, náº¿u chÆ°a muá»‘n nÃ³i lÃ  khÃ¡ nguy hiá»ƒm. Do Ä‘Ã³, má»™t trong nhá»¯ng hÆ°á»›ng Ä‘i hiá»‡n nay chÃ­nh lÃ  viá»‡c chuyá»ƒn dá»i tá»« "Onchain" sang "Offchain". Viá»‡c chuyá»ƒn dá»i nÃ y cá»¥ thá»ƒ Ä‘ang Ä‘Æ°á»£c tiÃªn phong trong Bitcoin vá»›i sá»± Ä‘áº§u tÆ° trong viá»‡c phÃ¡t triá»ƒn Lightning network. Diá»…n giáº£i má»™t cÃ¡ch dÃ¢n dÃ£ tháº¿ nÃ y:
- Lightning network sáº½ yÃªu cáº§u ngÆ°á»i mua commit má»™t sá»‘ tiá»n nÃ o Ä‘Ã³ nhÆ° lÃ  má»™t sá»± Ä‘áº·t cá»c. Kiá»ƒu nhÆ° báº¡n mua nhÃ  thÃ¬ báº¡n hay Ä‘áº·t cá»c trÆ°á»›c cho nÃ³ cháº¯c cÃº ğŸ˜€ Ä‘á»ƒ yÃªu cáº§u chá»§ nhÃ  cho nghÃ­a qua cÃ¡i nhÃ .
- Sau Ä‘Ã³ ngÆ°á»i bÃ¡n vÃ  ngÆ°á»i mua trÃªn cÃ¹ng má»™t channel (cung cáº¥p bá»Ÿi Lightning network) sáº½ cÃ¹ng nhau Ä‘á»“ng thuáº­n tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a giao dá»‹ch. Kiá»ƒu nhÆ° 2 Ã´ng Ä‘á»“ng Ã½ ráº±ng, tÃ´i nháº­n tiá»n Ä‘áº·t cá»c cá»§a Ã´ng rá»“i, tÃ´i cho Ã´ng chÃ¬a khÃ³a Ä‘á»ƒ xem nhÃ  cá»§a tÃ´i. Cá»© má»—i láº§n tráº¡ng thÃ¡i hiá»‡n táº¡i cá»§a giao dá»‹ch Ä‘Æ°á»£c update thÃ¬ cáº£ 2 bÃªn sáº½ Ä‘á»u kiá»ƒm tra cÃ´ng viá»‡c cá»§a ngÆ°á»i kia, vÃ­ dá»¥ nhÆ° ta ko thá»ƒ Ä‘á»ƒ cho ngÆ°á»i mua tá»± láº¥y chÃ¬a khÃ³a vÃ o nhÃ  má»™t mÃ¬nh Ä‘Æ°á»£c, xem nhÃ  cÅ©ng pháº£i cÃ³ giÃ¡m sÃ¡t cá»§a ta chá»© ğŸ˜€.
- Má»—i láº§n cáº£ 2 bÃªn tiáº¿n thÃªm má»™t tráº¡ng thÃ¡i má»›i thÃ¬ 2 bÃªn sáº½ trao Ä‘á»•i cho nhau má»™t proof (cÃ¡i nÃ y lÃ  zero-knowledge proof, má»i ace thiá»‡n lÃ nh search google) vÃ  Ä‘á»“ng thuáº­n ráº±ng, tráº¡ng thÃ¡i cÅ© Ä‘Ã£ ko cÃ²n cÃ³ gia trá»‹, ta sáº½ cÃ¹ng lÃ m viá»‡c tá»« tráº¡ng thÃ¡i má»›i trá»Ÿ Ä‘i.
- Náº¿u 1 trong 2 bÃªn khÃ´ng Ä‘á»“ng tÃ¬nh vá»›i viá»‡c tiáº¿n lÃªn tráº¡ng thÃ¡i má»›i (kiá»ƒu sau khi xem nhÃ  thÃ¬ má»™t Ã´ng Ä‘Ã²i tráº£ gÃ³p, Ã´ng kia ko nghe) hoáº·c 1 trong 2 bÃªn bá»‹ máº¥t liÃªn láº¡c (kiá»ƒu bá»‹ báº¯t cÃ³c, tá»‘ng tiá»n hoáº·c háº¿t tiá»n nÃªn nghá»‰ chÆ¡i) lÃ¢u hÆ¡n khoáº£ng thá»i gian Ä‘á»‘i phÆ°Æ¡ng cáº£m tháº¥y OK thÃ¬ tráº¡ng thÃ¡i hiá»‡n táº¡i Ä‘Æ°á»£c coi nhÆ° lÃ  tráº¡ng thÃ¡i cuá»‘i cÃ¹ng vÃ  1 trong 2 ngÆ°á»i Ä‘Ã£ phÃ¡ vá»¡ má»‘i quan há»‡.
Váº­y, táº¡i sao cÃ¡ch thá»©c offchain mÃ  Ä‘iá»ƒn hÃ¬nh Lightning network láº¡i Ä‘em láº¡i sá»± hiá»‡u quáº£:
- Náº¿u cáº£ 2 phÃ­a Ä‘á»u hoáº¡t Ä‘á»™ng má»™t cÃ¡ch trÆ¡n tru thÃ¬ toÃ n bá»™ cÃ¡c tráº¡ng thÃ¡i giao dá»‹ch chá»‰ cÃ³ 2 bÃªn biáº¿t, khÃ´ng cÃ³ ai xem giá»¯a.
- Náº¿u 1 trong 2 bÃªn lÃ  cheating vÃ  Ä‘á»™t ngá»™t cho ráº±ng tráº¡ng thÃ¡i hiá»‡n táº¡i lÃ  khÃ´ng OK vÃ¬ sáº½ dá»… lá»™ báº£n thÃ¢n (ID áº£o cÃ³ gÃ¬ Ä‘Ã³ khÃ´ng OK, dá»¯ liá»‡u vá»› váº©n, etc.) thÃ¬ Ä‘Æ¡n giáº£n há» khÃ´ng thá»ƒ quay láº¡i tráº¡ng thÃ¡i cÅ© trÆ°á»›c Ä‘Ã³ vÃ¬ proof chá»©ng minh tráº¡ng thÃ¡i cÅ© khÃ´ng valid Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trÃªn blockchain cÅ©ng nhÆ° Ä‘Æ°á»£c giá»¯ bá»Ÿi Ä‘á»‘i phÆ°Æ¡ng vÃ  Ä‘á»‘i phÆ°Æ¡ng sáº½ láº¥y proof Ä‘Ã³ Ä‘á»ƒ charge cÃ¡i tiá»n Ä‘áº·t cá»c cho kháº£ nÄƒng báº¡n lÃ  ngÆ°á»i cheating trong giao dá»‹ch. NÃ³i nÃ´m na lÃ  Ã´ng khÃ´ng mua nhÃ  thÃ¬ Ã´ng máº¥t tiá»n Ä‘áº·t cá»c.
- VÃ  khi má»‘i quan há»‡ giao dá»‹ch káº¿t thÃºc thÃ¬ chá»‰ cÃ³ tráº¡ng thÃ¡i cuá»‘i cÃ¹ng Ä‘Æ°á»£c publish, khÃ´ng ai biáº¿t nhá»¯ng tráº¡ng thÃ¡i trung gian diá»…n ra nhÆ° tháº¿ nÃ o.
Ta cÃ³ thá»ƒ nháº­n tháº¥y hÃ nh vi cá»§a cÃ¡c phÆ°Æ¡ng thá»©c offchain pháº£n áº£nh ráº¥t rÃµ rÃ ng Ä‘á»i sá»‘ng hÃ ng ngÃ y, chá»‰ Ä‘Æ¡n thuáº§n lÃ  ta thay nÃ³ báº±ng cÃ´ng nghá»‡ mÃ  thÃ´i. Trong hÆ°á»›ng Ä‘i nÃ y, blockchain cáº§n pháº£i Ä‘Æ°á»£c nhÃ¬n nháº­n nhÆ° lÃ  lá»›p tháº¥p nháº¥t cá»§a cryptocurrency, má»i hoáº¡t Ä‘á»™ng chá»©ng thá»±c, etc. sáº½ Ä‘Æ°á»£c offchain vÃ  chá»‰ lÆ°u cÃ¡i "cáº§n lÆ°u" trÃªn blockchain, khÃ´ng pháº£i táº¥t cáº£.
Trong tháº¿ giá»›i áº£o nÃ y, sá»± chá»©ng thá»±c viá»‡c chÃ­nh xÃ¡c (correctness) aka identity nÃ³ gÃ¡n liá»n cháº·t cháº½ vá»›i tháº¿ giá»›i thá»±c. Báº£n thÃ¢n báº¡n tham gia tháº¿ giá»›i áº£o cÅ©ng cÃ³ nhiá»u nick áº£o, tháº­m chÃ­ báº¡n cÃ³ thá»ƒ dÃ¹ng má»™t Ä‘Æ¡n vá»‹ á»§y quyá»n nÃ o Ä‘Ã³ chá»©ng thá»±c báº¡n nhÆ°ng kháº£ nÄƒng chÃ­nh Ä‘Æ¡n vá»‹ Ä‘Ã³ bá»‹ xÃ¢m nháº­p vÃ  hack cÅ©ng ráº¥t cao. Cho nÃªn trong viá»‡c chá»©ng thá»±c correctness thÃ¬ tá»‘t nháº¥t lÃ  ta nÃªn dÃ¹ng má»™t cÃ¡ch thá»©c kiá»ƒu "Ä‘áº·t cá»c". Lightning network thÃ´ng qua cÆ¡ cháº¿ nÃ y sáº½ Ä‘áº£m báº£o ráº±ng má»™t ID thá»±c sáº½ chá»‰ cÃ³ má»™t giá»›i háº¡n nháº¥t Ä‘á»‹nh ID áº£o vÃ  má»—i ID áº£o sáº½ bá»‹ máº¥t phÃ­, cÅ©ng nhÆ° má»™t tráº¡ng thÃ¡i cá»§a giao dá»‹ch áº£o sáº½ cáº§n tiá»n Ä‘áº·t cá»c. VÃ  Ä‘Ã¡nh vÃ o kinh táº¿ luÃ´n lÃ  cÃ¡ch Ä‘Ã¡nh hay nháº¥t cÅ©ng lÃ  má»™t tÃ²a Ã¡n áº£o hay nháº¥t Ä‘á»ƒ Ä‘Æ°a má»i thá»© trá»Ÿ vá» quy cá»§ vÃ  tráº­t tá»±.
